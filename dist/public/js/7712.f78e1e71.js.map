{"version":3,"file":"public/js/7712.f78e1e71.js","mappings":"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","sources":["webpack://yaoj/./src/components/user/Signup.vue","webpack://yaoj/./src/components/user/Signup.vue?1308"],"sourcesContent":["<template>\r\n<div class=\"text-center align-items-center d-flex h-100\" style=\"padding-bottom:80px\">\r\n    <form class=\"form-signin\" @submit.prevent=\"signup\">\r\n        <h1 class=\"h3 mb-3 font-weight-normal\">Please Sign Up</h1>\r\n        <input type=\"username\" class=\"form-control form-signin-top\" placeholder=\"Username\" v-model=\"user_name\"/>\r\n        <input type=\"password\" class=\"form-control form-signin-middle\" placeholder=\"Password\" v-model=\"password\"/>\r\n        <input type=\"password\" class=\"form-control form-signin-middle\" placeholder=\"Confirm Password\" v-model=\"cpassword\"/>\r\n        <input type=\"text\" class=\"form-control form-signin-bottom\" placeholder=\"Verification Code\" v-model=\"vcode\"/>\r\n        <img :src=\"getVSrc\" @click=\"reloadVCode\">\r\n        <div class=\"text-danger small mt-1\" v-if=\"invalid_u\">\r\n            Username must be made up by letters or numbers or underline and contains at least 3 at most 18 characters.\r\n        </div>\r\n        <div class=\"text-danger small mt-1\" v-if=\"repeat_u\">\r\n            Username has been used by other users.\r\n        </div>\r\n        <div class=\"text-danger small mt-1\" v-if=\"invalid_p\">\r\n            Password must be made up by letters or numbers or any special characters and contains at least 6 at most 18 characters.\r\n        </div>\r\n        <div class=\"text-danger small mt-1\" v-if=\"invalid_c\">\r\n            Confirming password and password are different.\r\n        </div>\r\n        <div class=\"text-danger small mt-1\" v-if=\"invalid_v\">\r\n            Verify code is wrong.\r\n        </div>\r\n        <div class=\"form-check mt-3 mb-3\">\r\n            <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"remember_me\" style=\"float:none\" v-model=\"remember\">\r\n            <label class=\"form-check-label ms-1\" for=\"remember_me\">\r\n                Remember me\r\n            </label>\r\n        </div>\r\n        <button class=\"btn btn btn-primary btn-block\" type=\"submit\" style=\"width:50%\">Sign Up</button>\r\n    </form>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { validUsername, validPassword, SHA256, callAPI } from '@/utils.js'\r\nimport { BASE_URL } from '@/config.js'\r\nimport { getCurrentInstance, onMounted } from 'vue'\r\n\r\nexport default {\r\n    setup() {\r\n        onMounted(() => {\r\n            var t = getCurrentInstance()\r\n            callAPI('captcha', 'post', {}, function(response) {\r\n                t.data.vid = response.data.id\r\n            })\r\n        })\r\n    },\r\n    data() {\r\n        return { user_name: \"\", password: \"\", cpassword: \"\", vcode: \"\", vid: \"\", version: Math.random(), remember: false,\r\n            invalid_u: false, invalid_p: false, invalid_c: false, repeat_u: false, invalid_v: false  }\r\n    },\r\n    computed: {\r\n        getVSrc() {\r\n            return BASE_URL + \"captcha?id=\" + this.vid + \"&v=\" + this.version\r\n        }\r\n    },\r\n    methods: {\r\n        reloadVCode() {\r\n            callAPI('captcha', 'patch', { id: this.vid }, (res) => {\r\n                this.version = Math.random()\r\n            })\r\n        },\r\n        signup() {\r\n            this.invalid_u = !validUsername(this.user_name)\r\n            this.invalid_p = !validPassword(this.password)\r\n            this.invalid_c = this.password != this.cpassword\r\n            this.repeat_u = this.invalid_v = false\r\n            if (!this.invalid_u && !this.invalid_p && !this.invalid_c) {\r\n                var ppassword = SHA256(this.password)\r\n                callAPI('user', 'post', {\r\n                    user_name: this.user_name,\r\n                    password: ppassword,\r\n                    remember: this.remember,\r\n                    verify_id: this.vid,\r\n                    verify_code: this.vcode,\r\n                }, (res) => {\r\n                    window.location.href = \"/\"\r\n                }, (res) => {\r\n                    if (res.data._error.includes(\"username\")) {\r\n                        this.repeat_u = true\r\n                    } else {\r\n                        this.invalid_v = true\r\n                    }\r\n                    callAPI('captcha', 'post', {}, (res) => {\r\n                        this.vid = res.data.id\r\n                    })\r\n                })\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./Signup.vue?vue&type=template&id=1c4eefd7\"\nimport script from \"./Signup.vue?vue&type=script&lang=js\"\nexport * from \"./Signup.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Work\\\\codes\\\\web\\\\yao\\\\front-end\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","for","type","_createElementBlock","onSubmit","$options","_hoisted_2","placeholder","$data","$event","src","onClick","value","id","_hoisted_10","_hoisted_11","setup","onMounted","t","getCurrentInstance","callAPI","response","data","vid","user_name","password","cpassword","vcode","version","Math","random","remember","invalid_u","invalid_p","invalid_c","repeat_u","invalid_v","computed","getVSrc","BASE_URL","this","methods","reloadVCode","res","signup","validUsername","validPassword","ppassword","SHA256","verify_id","verify_code","window","location","href","_error","includes","__exports__","render"],"sourceRoot":""}