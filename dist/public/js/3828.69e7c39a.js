"use strict";(self["webpackChunkyaoj"]=self["webpackChunkyaoj"]||[]).push([[3828],{13828:function(e,t,s){s.r(t),s.d(t,{default:function(){return re}});var i=s(49199);const o={class:"mt-4 container",style:{}},l={class:"row"},a=(0,i.createElementVNode)("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[(0,i.createElementVNode)("li",{class:"nav-item",role:"presentation"},[(0,i.createElementVNode)("button",{class:"nav-link active",id:"permissions-tab","data-bs-toggle":"tab","data-bs-target":"#permissions",type:"button",role:"tab","aria-controls":"permissions","aria-selected":"true"},"Permissions")]),(0,i.createElementVNode)("li",{class:"nav-item",role:"presentation"},[(0,i.createElementVNode)("button",{class:"nav-link",id:"submissions-tab","data-bs-toggle":"tab","data-bs-target":"#submissions",type:"button",role:"tab","aria-controls":"submissions","aria-selected":"false"},"Submissions")]),(0,i.createElementVNode)("li",{class:"nav-item",role:"presentation"},[(0,i.createElementVNode)("button",{class:"nav-link",id:"thumbs-tab","data-bs-toggle":"tab","data-bs-target":"#thumbs",type:"button",role:"tab","aria-controls":"thumbs","aria-selected":"false"},"Thumbs")])],-1),n={class:"tab-content container mt-3",id:"myTabContent"},r={class:"tab-pane fade show active",id:"permissions",role:"tabpanel","aria-labelledby":"permissions-tab"},c={style:{"font-size":"1.1rem"}},m=(0,i.createTextVNode)(" Notice that you must input user id in this page instead of username. "),d={class:"mb-4"},u={class:"row"},p={class:"col-lg-9 input-group mt-3"},b=(0,i.createElementVNode)("span",{class:"input-group-text"},"Change",-1),V=(0,i.createElementVNode)("span",{class:"input-group-text",style:{"border-right":"0px"}},"to",-1),h=["checked"],N=["checked"],g=["checked"],v={key:0,class:"text-success small mt-1"},E={key:1,class:"text-danger small mt-1"},f=(0,i.createElementVNode)("hr",null,null,-1),y={class:"mb-4"},k=(0,i.createTextVNode)(" You cannot modify the default permission group 1 except its name. You can view all permission groups at "),x=(0,i.createElementVNode)("a",{href:"#permissions",style:{"text-decoration":"none"}},"this page",-1),_=(0,i.createTextVNode)(". "),w={class:"row"},C={class:"input-group col-lg-9 mt-2"},B=(0,i.createElementVNode)("span",{class:"input-group-text"},"Add permission group",-1),T={class:"row"},D={class:"input-group col-lg-9 mt-3"},S=(0,i.createElementVNode)("span",{class:"input-group-text"},"Delete permission group",-1),U={class:"row"},M={class:"input-group col-lg-9 mt-3"},P=(0,i.createElementVNode)("span",{class:"input-group-text"},"Change name of",-1),A=(0,i.createElementVNode)("span",{class:"input-group-text"},"to",-1),$={key:0,class:"text-success small mt-1"},z={key:1,class:"text-danger small mt-1"},F=(0,i.createElementVNode)("hr",null,null,-1),I={class:"mb-4"},Y={class:"row mb-2"},j={class:"col-lg-9 input-group mt-2"},q=(0,i.createElementVNode)("span",{class:"input-group-text"},"Add users to permission group",-1),H=(0,i.createTextVNode)(" You should type user ids below and split them with any blank characters. (i.e. Enter, Space etc.) "),W={class:"input-group mt-1"},Z={key:0,class:"text-success small mt-1"},G={key:1,class:"text-danger small mt-1"},J=(0,i.createElementVNode)("hr",null,null,-1),K={class:"mb-4"},L={class:"row mb-2"},O={class:"col-lg-9 input-group mt-2"},Q=(0,i.createElementVNode)("span",{class:"input-group-text"},"Delete",-1),R=(0,i.createElementVNode)("span",{class:"input-group-text"},"from permission group",-1),X={key:0,class:"text-success small mt-1"},ee={key:1,class:"text-danger small mt-1"},te=(0,i.createElementVNode)("div",{class:"tab-pane fade",id:"submissions",role:"tabpanel","aria-labelledby":"submissions-tab"},"Not decided....",-1),se=(0,i.createElementVNode)("div",{class:"tab-pane fade",id:"thumbs",role:"tabpanel","aria-labelledby":"thumbs-tab"},"Working now!!!",-1);function ie(e,t,s,ie,oe,le){const ae=(0,i.resolveComponent)("ion-icon");return(0,i.openBlock)(),(0,i.createElementBlock)("div",o,[(0,i.createElementVNode)("div",l,[a,(0,i.createElementVNode)("div",n,[(0,i.createElementVNode)("div",r,[(0,i.createElementVNode)("strong",c,[(0,i.createVNode)(ae,{name:"alert-circle",style:{"vertical-align":"middle"}}),m]),(0,i.createElementVNode)("div",d,[(0,i.createElementVNode)("div",u,[(0,i.createElementVNode)("div",p,[b,(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"User id","onUpdate:modelValue":t[0]||(t[0]=e=>oe.user1=e)},null,512),[[i.vModelText,oe.user1]]),V,0==e.$user.user_group?((0,i.openBlock)(),(0,i.createElementBlock)("input",{key:0,type:"radio",class:"btn-check",id:"btnradio1",autocomplete:"off",checked:1==oe.permission1},null,8,h)):(0,i.createCommentVNode)("",!0),0==e.$user.user_group?((0,i.openBlock)(),(0,i.createElementBlock)("label",{key:1,class:"btn btn-outline-secondary",for:"btnradio1",style:{"border-right":"0px"},onClick:t[1]||(t[1]=(0,i.withModifiers)((e=>le.selectPermission(1)),["prevent"]))},"Administrator")):(0,i.createCommentVNode)("",!0),(0,i.createElementVNode)("input",{type:"radio",class:"btn-check",id:"btnradio2",autocomplete:"off",checked:2==oe.permission1},null,8,N),(0,i.createElementVNode)("label",{class:"btn btn-outline-secondary",for:"btnradio2",style:{"border-right":"0px"},onClick:t[2]||(t[2]=(0,i.withModifiers)((e=>le.selectPermission(2)),["prevent"]))},"Normal User"),(0,i.createElementVNode)("input",{type:"radio",class:"btn-check",id:"btnradio3",autocomplete:"off",checked:3==oe.permission1},null,8,g),(0,i.createElementVNode)("label",{class:"btn btn-outline-secondary",for:"btnradio3",onClick:t[3]||(t[3]=(0,i.withModifiers)((e=>le.selectPermission(3)),["prevent"]))},"Banned User")]),(0,i.createElementVNode)("button",{class:"btn btn-primary col-lg-2 mt-3",onClick:t[4]||(t[4]=e=>le.submit1("user","patch",{user_id:oe.user1,user_group:oe.permission1},0))},"Submit")]),oe.success[0]?((0,i.openBlock)(),(0,i.createElementBlock)("div",v," Successfully modified. ")):(0,i.createCommentVNode)("",!0),oe.fail[0]?((0,i.openBlock)(),(0,i.createElementBlock)("div",E," Invalid request. ")):(0,i.createCommentVNode)("",!0)]),f,(0,i.createElementVNode)("div",y,[(0,i.createElementVNode)("strong",null,[(0,i.createVNode)(ae,{name:"alert-circle",style:{"font-size":"1rem","vertical-align":"middle"}}),k,x,_]),(0,i.createElementVNode)("div",w,[(0,i.createElementVNode)("div",C,[B,(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Permission name","onUpdate:modelValue":t[5]||(t[5]=e=>oe.permission_name1=e),maxlength:"60"},null,512),[[i.vModelText,oe.permission_name1]])]),(0,i.createElementVNode)("button",{class:"btn btn-primary col-lg-2 mt-2",onClick:t[6]||(t[6]=e=>le.submit1("permissions","post",{permission_name:oe.permission_name1},1))},"Submit")]),(0,i.createElementVNode)("div",T,[(0,i.createElementVNode)("div",D,[S,(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Permission id","onUpdate:modelValue":t[7]||(t[7]=e=>oe.permission_id1=e)},null,512),[[i.vModelText,oe.permission_id1]])]),(0,i.createElementVNode)("button",{class:"btn btn-primary col-lg-2 mt-3",onClick:t[8]||(t[8]=e=>le.submit1("permissions","delete",{permission_id:oe.permission_id1},1))},"Submit")]),(0,i.createElementVNode)("div",U,[(0,i.createElementVNode)("div",M,[P,(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Permission id","onUpdate:modelValue":t[9]||(t[9]=e=>oe.permission_id2=e)},null,512),[[i.vModelText,oe.permission_id2]]),A,(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Permission name","onUpdate:modelValue":t[10]||(t[10]=e=>oe.permission_name2=e),maxlength:"60"},null,512),[[i.vModelText,oe.permission_name2]])]),(0,i.createElementVNode)("button",{class:"btn btn-primary col-lg-2 mt-3",onClick:t[11]||(t[11]=e=>le.submit1("permissions","patch",{permission_id:oe.permission_id2,permission_name:oe.permission_name2},1))},"Submit")]),oe.success[1]?((0,i.openBlock)(),(0,i.createElementBlock)("div",$," Successfully modified. ")):(0,i.createCommentVNode)("",!0),oe.fail[1]?((0,i.openBlock)(),(0,i.createElementBlock)("div",z," Data is unchanged or arguments are invalid. ")):(0,i.createCommentVNode)("",!0)]),F,(0,i.createElementVNode)("div",I,[(0,i.createElementVNode)("div",Y,[(0,i.createElementVNode)("div",j,[q,(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Permission id","onUpdate:modelValue":t[12]||(t[12]=e=>oe.permission_id3=e)},null,512),[[i.vModelText,oe.permission_id3]])]),(0,i.createElementVNode)("button",{class:"btn btn-primary col-lg-2 mt-2",onClick:t[13]||(t[13]=(...e)=>le.submit5&&le.submit5(...e))},"Submit")]),(0,i.createElementVNode)("strong",null,[(0,i.createVNode)(ae,{name:"alert-circle",style:{"font-size":"1rem","vertical-align":"middle"}}),H]),(0,i.createElementVNode)("div",W,[(0,i.withDirectives)((0,i.createElementVNode)("textarea",{class:"form-control",placeholder:"Users",id:"textArea","onUpdate:modelValue":t[14]||(t[14]=e=>oe.user2=e),style:""},null,512),[[i.vModelText,oe.user2]])]),""!=oe.success3?((0,i.openBlock)(),(0,i.createElementBlock)("div",Z,(0,i.toDisplayString)(oe.success3),1)):(0,i.createCommentVNode)("",!0),""!=oe.fail3?((0,i.openBlock)(),(0,i.createElementBlock)("div",G,(0,i.toDisplayString)(oe.fail3),1)):(0,i.createCommentVNode)("",!0)]),J,(0,i.createElementVNode)("div",K,[(0,i.createElementVNode)("div",L,[(0,i.createElementVNode)("div",O,[Q,(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"User id","onUpdate:modelValue":t[15]||(t[15]=e=>oe.user3=e)},null,512),[[i.vModelText,oe.user3]]),R,(0,i.withDirectives)((0,i.createElementVNode)("input",{type:"text",class:"form-control",placeholder:"Permission id","onUpdate:modelValue":t[16]||(t[16]=e=>oe.permission_id4=e)},null,512),[[i.vModelText,oe.permission_id4]])]),(0,i.createElementVNode)("button",{class:"btn btn-primary col-lg-2 mt-2",onClick:t[17]||(t[17]=e=>le.submit1("user_permissions","delete",{permission_id:oe.permission_id4,user_id:oe.user3},2))},"Submit")]),oe.success[2]?((0,i.openBlock)(),(0,i.createElementBlock)("div",X," Successfully modified. ")):(0,i.createCommentVNode)("",!0),oe.fail[2]?((0,i.openBlock)(),(0,i.createElementBlock)("div",ee," Data is unchanged or arguments are invalid. ")):(0,i.createCommentVNode)("",!0)])]),te,se])])])}var oe=s(58661),le={setup(){(0,i.onBeforeMount)((()=>{var e=(0,i.getCurrentInstance)().appContext.config.globalProperties;e.$user.user_group>1&&e.$router.replace("/403Forbidden")}))},data(){return{user1:"",user2:"",user3:"",permission1:0,permission_name1:"",permission_name2:"",permission_id1:"",permission_id2:"",permission_id3:"",permission_id4:"",success:[!1,!1,!1],fail:[!1,!1,!1],success3:"",fail3:""}},methods:{selectPermission(e){this.permission1==e?this.permission1=0:this.permission1=e},submit1(e,t,s,i){this.success[i]=this.fail[i]=!1,(0,oe.F)(e,t,s,(e=>{this.success[i]=!0,setTimeout((()=>{this.success[i]=!1}),1e3)}),(e=>{this.fail[i]=!0}))},submit5(){this.success3=this.fail3="",(0,oe.F)("user_permissions","post",{permission_id:this.permission_id3,user_ids:this.user2.replace(/[\s]+/g,",")},(e=>{this.success3=`Successfully added, ${e.data.affected} users affected.`,setTimeout((()=>{this.success3=""}),1e3)}),(e=>{this.fail3=e.data._error,"invalid ids exist"==this.fail3&&(this.fail3+=": "+e.data.invalid_ids)}))}},watch:{user2(){var e=document.getElementById("textArea");e.style.height="20px",e.style.height=e.scrollHeight+20+"px"}}},ae=s(40089);const ne=(0,ae.Z)(le,[["render",ie]]);var re=ne}}]);
//# sourceMappingURL=3828.69e7c39a.js.map