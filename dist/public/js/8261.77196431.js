"use strict";(self["webpackChunkyaoj"]=self["webpackChunkyaoj"]||[]).push([[8261],{58261:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var l=r(49199);const n={class:"mt-4 container"},o={class:"row mb-3"},s=(0,l.createElementVNode)("div",{class:"col"},[(0,l.createElementVNode)("div",{class:"h3 mb-0"},"Problem List")],-1),a={key:0,class:"col",style:{"text-align":"right"}},i={key:0,class:"text-success small"};function c(e,t,r,c,m,d){const u=(0,l.resolveComponent)("Table");return(0,l.openBlock)(),(0,l.createElementBlock)("div",n,[(0,l.createElementVNode)("div",o,[s,e.$user.user_group<=1?((0,l.openBlock)(),(0,l.createElementBlock)("div",a,[(0,l.createElementVNode)("button",{class:"btn btn-sm btn-primary",onClick:t[0]||(t[0]=(...e)=>d.addProblem&&d.addProblem(...e))},"New Problem"),m.success>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",i," Successfully added, problem id: "+(0,l.toDisplayString)(m.success)+". ",1)):(0,l.createCommentVNode)("",!0)])):(0,l.createCommentVNode)("",!0)]),m.reloadProblems?((0,l.openBlock)(),(0,l.createBlock)(u,{key:0,row:d.getLine,sizes:[20,50,100],get:d.getProblems,next:d.next,pagination:!0},null,8,["row","get","next"])):(0,l.createCommentVNode)("",!0)])}var m=r(54860),d=r(51826),u=r(58661),h={data(){return{reloadProblems:!0,success:0}},components:{Table:m.Z,ClickLike:d.Z},methods:{getLine(e){return null==e?[(0,l.h)("td",{style:"text-align:left;width:10%"},(0,l.h)("strong","#ID")),(0,l.h)("td",{style:"text-align:left"},(0,l.h)("strong","Problem")),(0,l.h)("td",{style:"text-align:right;width:10%"},(0,l.h)("strong","Comments"))]:[(0,l.h)("td",{style:"text-align:left"},e.problem_id),(0,l.h)("td",{style:"text-align:left"},(0,l.h)("a",{href:"#/problem/"+e.problem_id},e.title)),(0,l.h)("td",{style:"text-align:right"},(0,l.h)(d.Z,{icon:"thumbs-up-outline",number:e.like,target:{name:"problem",id:e.problem_id},active:e.liked}))]},async getProblems(e){try{var t=await new Promise(((t,r)=>{(0,u.F)("problems","get",e,t,r)}));return t.data}catch(r){alert(r.data._error)}},next(e,t){return null==e?t<0?0:1<<30:e.problem_id+t},addProblem(){(0,u.F)("problem","post",{},(e=>{this.success=e.data.id,setTimeout((()=>{this.success=0}),1e3),this.reloadProblems=!1,(0,l.nextTick)((()=>{this.reloadProblems=!0}))}),(e=>{alert(e.data._error)}))}}},b=r(40089);const g=(0,b.Z)(h,[["render",c]]);var p=g},51826:function(e,t,r){r.d(t,{Z:function(){return m}});var l=r(49199);const n={style:{"vertical-align":"middle"}};function o(e,t,r,o,s,a){const i=(0,l.resolveComponent)("ion-icon");return(0,l.openBlock)(),(0,l.createElementBlock)("div",{class:(0,l.normalizeClass)(r.class),style:(0,l.normalizeStyle)((void 0==r.target?"":"cursor: pointer;")+(s.current^r.active?"color: #F70":"")),onClick:t[0]||(t[0]=(...e)=>a.like&&a.like(...e))},[(0,l.createVNode)(i,{name:r.icon,style:{"vertical-align":"middle","font-size":"1rem","margin-right":"2px"}},null,8,["name"]),(0,l.createElementVNode)("span",n,(0,l.toDisplayString)(a.num),1)],6)}var s=r(58661),a={props:["icon","number","active","target","class"],data(){return{current:!1}},methods:{like(){void 0!=this.target&&(0,s.F)("likes","post",{target:this.target.name,id:this.target.id},(e=>{this.current=!this.current}),(e=>{alert(e.data._error)}))}},computed:{num(){return this.active?this.number+(this.current?-1:0):this.number+(this.current?1:0)}}},i=r(40089);const c=(0,i.Z)(a,[["render",o]]);var m=c}}]);
//# sourceMappingURL=8261.77196431.js.map