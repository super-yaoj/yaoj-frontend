"use strict";(self["webpackChunkyaoj"]=self["webpackChunkyaoj"]||[]).push([[5011],{81378:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ae}});var l=a(49199);const o={class:"mt-4 container"},n={class:"row align-items-end"},s=(0,l.createElementVNode)("div",{class:"col"},null,-1),i={class:"text-center col mb-0"},r={class:"text-center mt-2"},d={class:"badge bg-success mx-1","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Time Limit"},c=(0,l.createTextVNode)(),m={style:{"vertical-align":"text-bottom"}},p={class:"badge bg-primary mx-1","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Memory Limit"},u=(0,l.createTextVNode)(),b={style:{"vertical-align":"text-bottom"}},g={class:"badge bg-warning mx-1","data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"Submission Limit"},h=(0,l.createTextVNode)(),v={style:{"vertical-align":"text-bottom"}},k={class:"nav nav-tabs mt-3"},E=(0,l.createElementVNode)("li",{class:"nav-item"},[(0,l.createElementVNode)("button",{class:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#statement"},"Statement")],-1),V=(0,l.createElementVNode)("li",{class:"nav-item",role:"presentation"},[(0,l.createElementVNode)("button",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#submit"},"Submit")],-1),N={class:"nav-item",role:"presentation"},y={key:0,class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#tutorial"},f={key:0,class:"nav-item",role:"presentation"},_=(0,l.createElementVNode)("button",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#manage"},"Manage",-1),B=[_],x={class:"tab-content"},S={class:"tab-pane fade show active",id:"statement"},D={class:"tab-pane fade",id:"submit"},w={key:0,class:"tab-pane fade",id:"tutorial"},L={key:1,class:"tab-pane fade mt-3",id:"manage"};function C(e,t,a,_,C,M){const F=(0,l.resolveComponent)("ClickLike"),T=(0,l.resolveComponent)("ion-icon"),z=(0,l.resolveComponent)("v-md-preview"),Z=(0,l.resolveComponent)("ProblemSubmit"),q=(0,l.resolveComponent)("ProblemManage");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("div",n,[s,(0,l.createElementVNode)("h3",i,(0,l.toDisplayString)(C.problem.title),1),(0,l.createVNode)(F,{class:"col text-right",icon:"thumbs-up-outline",number:C.problem.like,target:{name:"problem",id:C.id},active:C.problem.liked},null,8,["number","target","active"])]),(0,l.createElementVNode)("div",r,[(0,l.createElementVNode)("span",d,[(0,l.createVNode)(T,{name:"time",class:"limitation-icon"}),c,(0,l.createElementVNode)("span",m,(0,l.toDisplayString)(C.problem.limitation[0])+" ms",1)]),(0,l.createElementVNode)("span",p,[(0,l.createVNode)(T,{name:"hardware-chip",class:"limitation-icon"}),u,(0,l.createElementVNode)("span",b,(0,l.toDisplayString)(Math.floor(C.problem.limitation[3]/1048576))+" MB",1)]),(0,l.createElementVNode)("span",g,[(0,l.createVNode)(T,{name:"reader",class:"limitation-icon"}),h,(0,l.createElementVNode)("span",v,(0,l.toDisplayString)(M.maxSubmission),1)])]),(0,l.createElementVNode)("ul",k,[E,V,(0,l.createElementVNode)("li",N,[C.problem.tutorial_zh?((0,l.openBlock)(),(0,l.createElementBlock)("button",y,"Tutorial")):(0,l.createCommentVNode)("",!0)]),C.can_edit?((0,l.openBlock)(),(0,l.createElementBlock)("li",f,B)):(0,l.createCommentVNode)("",!0)]),(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("div",S,[(0,l.createVNode)(z,{text:C.problem.statement_zh},null,8,["text"])]),(0,l.createElementVNode)("div",D,[(0,l.createVNode)(Z,{submission:C.problem.data.Submission},null,8,["submission"])]),C.problem.tutorial_zh?((0,l.openBlock)(),(0,l.createElementBlock)("div",w,[(0,l.createVNode)(z,{text:C.problem.tutorial_zh},null,8,["text"])])):(0,l.createCommentVNode)("",!0),C.can_edit?((0,l.openBlock)(),(0,l.createElementBlock)("div",L,[(0,l.createVNode)(q,{problem:C.problem,id:C.id},null,8,["problem","id"])])):(0,l.createCommentVNode)("",!0)])])}var M=a(3157),F=a(51826);const T={class:"d-flex align-items-start"},z={class:"nav flex-column nav-pills me-3"},Z=["value"],q=(0,l.createElementVNode)("button",{class:"nav-link","data-bs-toggle":"pill","data-bs-target":"#v-pills-permissions"},"Permissions",-1),P=(0,l.createElementVNode)("button",{class:"nav-link","data-bs-toggle":"pill","data-bs-target":"#v-pills-managers"},"Managers",-1),A=(0,l.createElementVNode)("button",{class:"nav-link","data-bs-toggle":"pill","data-bs-target":"#v-pills-data"},"Data",-1),U={class:"tab-content container",id:"v-pills-tabContent"},R=(0,l.createElementVNode)("div",{class:"tab-pane fade show active",id:"v-pills-statement"},"Not finished yet... Please put your statement in the data zip.",-1),$={class:"tab-pane fade",id:"v-pills-permissions"},I={class:"tab-pane fade",id:"v-pills-managers"},j={class:"tab-pane fade",id:"v-pills-data"},O={class:"row align-items-end"},Q={class:"col"},Y=(0,l.createElementVNode)("label",{for:"formFile",class:"form-label"},[(0,l.createElementVNode)("strong",null,"Upload Data")],-1),K={class:"form-control",type:"file",id:"formFile",accept:".zip",ref:"dataFile"},W=(0,l.createElementVNode)("button",{class:"btn btn-info col-2",style:{"min-width":"80px"}},"Download",-1),G=(0,l.createElementVNode)("div",{class:"mt-3"},[(0,l.createElementVNode)("strong",null,"View Data")],-1),H={key:0,class:"accordion mt-1",id:"subtasks"},J={class:"accordion-item"},X={class:"accordion-header"},ee=["data-bs-target"],te={class:"row",style:{width:"100%"}},ae={class:"col"},le={class:"col me-2",style:{color:"green","text-align":"right"}},oe=["id"],ne={class:"accordion-body"},se={class:"table table-bordered"},ie={key:1},re={class:"table table-bordered"},de={class:"mt-2",style:{"text-align":"right",color:"green"}};function ce(e,t,a,o,n,s){const i=(0,l.resolveComponent)("ManageTable");return(0,l.openBlock)(),(0,l.createElementBlock)("div",T,[(0,l.createElementVNode)("div",z,[(0,l.createElementVNode)("button",{class:"nav-link active","data-bs-toggle":"pill","data-bs-target":"#v-pills-statement",value:a.id},"Statement",8,Z),q,P,A]),(0,l.createElementVNode)("div",U,[R,(0,l.createElementVNode)("div",$,[(0,l.createVNode)(i,{url:"problem_permissions",data_name:["problem_id","permission_id","permission_name"],title:"Permission",name:"permission"})]),(0,l.createElementVNode)("div",I,[(0,l.createVNode)(i,{url:"problem_managers",data_name:["problem_id","user_id","user_name"],title:"Manager",name:"user"})]),(0,l.createElementVNode)("div",j,[(0,l.createElementVNode)("div",O,[(0,l.createElementVNode)("div",Q,[Y,(0,l.createElementVNode)("input",K,null,512)]),(0,l.createElementVNode)("button",{class:"btn btn-primary col-2 me-2",style:{"min-width":"80px"},onClick:t[0]||(t[0]=(...e)=>s.uploadData&&s.uploadData(...e))},"Submit"),W]),G,a.problem.data.Subtasks.Record?((0,l.openBlock)(),(0,l.createElementBlock)("div",H,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.problem.data.Subtasks.Record,(e=>((0,l.openBlock)(),(0,l.createElementBlock)("div",J,[(0,l.createElementVNode)("div",X,[(0,l.createElementVNode)("button",{class:"accordion-button collapsed py-2",style:{"font-size":".85rem"},type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+e._subtaskid},[(0,l.createElementVNode)("div",te,[(0,l.createElementVNode)("span",ae,[(0,l.createElementVNode)("strong",null,(0,l.toDisplayString)(e._subtaskid),1)]),(0,l.createElementVNode)("span",le,"Score: "+(0,l.toDisplayString)(e._score),1)])],8,ee)]),(0,l.createElementVNode)("div",{id:"collapse"+e._subtaskid,class:"accordion-collapse collapse","data-bs-parent":"#subtasks"},[(0,l.createElementVNode)("div",ne,[(0,l.createElementVNode)("table",se,[(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.problem.data.Tests.Record,((t,a)=>((0,l.openBlock)(),(0,l.createElementBlock)("tr",null,[t._subtaskid==e._subtaskid?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("td",null,"Test #"+(0,l.toDisplayString)(a+1),1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(t.input),1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(t.output),1)],64)):(0,l.createCommentVNode)("",!0)])))),256))])])])],8,oe)])))),256))])):((0,l.openBlock)(),(0,l.createElementBlock)("div",ie,[(0,l.createElementVNode)("table",re,[(0,l.createElementVNode)("tbody",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.problem.data.Tests.Record,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("tr",null,[(0,l.createElementVNode)("td",null,"Test #"+(0,l.toDisplayString)(t+1),1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(e.input),1),(0,l.createElementVNode)("td",null,(0,l.toDisplayString)(e.output),1)])))),256))])])])),(0,l.createElementVNode)("div",de,"Full Score: "+(0,l.toDisplayString)(a.problem.data.Fullscore),1)])])])}var me=a(48773),pe=a(58661),ue={inject:["reload"],props:["problem","id"],components:{ManageTable:me.Z},methods:{uploadData(){var e=this.$refs.dataFile.files[0];if(e)if(e.name.endsWith(".zip")){var t=new FormData;t.append("problem_id",this.id),t.append("data",e),(0,pe.ws)("problem_data","put",t,(e=>{this.reload()}),(e=>{alert(e.message.data._error)}))}else alert("You should upload zip file.");else alert("You haven't chosen any file!")}}},be=a(40089);const ge=(0,be.Z)(ue,[["render",ce]]);var he=ge;const ve={class:"container"},ke={class:"mt-3"},Ee={class:"row mb-1 align-items-center"},Ve={class:"col"},Ne={key:0,class:"col-3"},ye=["onUpdate:modelValue","onChange"],fe=["value"],_e={class:"form-check col",style:{"text-align":"right"}},Be=["id","onUpdate:modelValue"],xe=["for"],Se=["hidden"],De=["id","hidden"],we=["hidden"],Le={class:"col mb-1"},Ce=(0,l.createElementVNode)("input",{type:"file",class:"form-control"},null,-1);function Me(e,t,a,o,n,s){return(0,l.openBlock)(),(0,l.createElementBlock)("div",ve,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.submission,((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("div",ke,[1!=e.Accepted[0]?((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:0},[(0,l.createElementVNode)("div",Ee,[(0,l.createElementVNode)("label",Ve,[(0,l.createElementVNode)("strong",null,(0,l.toDisplayString)((0==e.Accepted[0]?"Text: ":"Source code: ")+t),1)]),2==e.Accepted[0]?((0,l.openBlock)(),(0,l.createElementBlock)("div",Ne,[(0,l.withDirectives)((0,l.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":e=>n.selectLang[t]=e,onChange:e=>s.changeLang(t)},[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(s.acceptLangs(e.Langs),((e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)("option",{value:t},(0,l.toDisplayString)(e),9,fe)))),256))],40,ye),[[l.vModelSelect,n.selectLang[t]]])])):(0,l.createCommentVNode)("",!0),(0,l.createElementVNode)("div",_e,[(0,l.withDirectives)((0,l.createElementVNode)("input",{class:"form-check-input me-1",type:"checkbox",value:"",id:"checkbox_"+t,style:{float:"none"},"onUpdate:modelValue":e=>n.checkboxes[t]=e},null,8,Be),[[l.vModelCheckbox,n.checkboxes[t]]]),(0,l.createElementVNode)("label",{class:"form-check-label",for:"checkbox_"+t}," Upload file ",8,xe)])]),n.advancedEditor?((0,l.openBlock)(),(0,l.createElementBlock)("div",{key:1,id:"codeEdit_"+t,style:{height:"400px"},hidden:n.checkboxes[t]},null,8,De)):((0,l.openBlock)(),(0,l.createElementBlock)("textarea",{key:0,class:"form-control",style:{height:"400px"},hidden:n.checkboxes[t]},null,8,Se)),(0,l.createElementVNode)("input",{type:"file",class:"form-control",hidden:!n.checkboxes[t]},null,8,we)],64)):((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createElementVNode)("label",Le,[(0,l.createElementVNode)("strong",null,(0,l.toDisplayString)(t)+":",1)]),Ce],64))])))),256))])}var Fe=a(50086),Te={props:["submission","refresh"],data(){var e={},t={},a={},l={};for(var o in this.submission)e[o]=!1,t[o]="",a[o]={value:""},l[o]=0;return{id:this.$route.params.id,contest_id:this.$route.query.contest_id,multiFile:(0,pe.tp)(this.submission),checkboxes:e,text:t,editors:a,selectLang:l,advancedEditor:localStorage.getItem("advanced_editor"),monaco:null}},mounted(){setTimeout((async()=>{for(var e in this.submission)this.selectLang[e]=(e=>{for(var t in e)return t})(this.acceptLangs(this.submission[e].Langs));if(this.advancedEditor)for(var e in this.monaco=await a.e(5485).then(a.bind(a,35485)),this.submission)1!=this.submission[e].Accepted[0]&&(this.editors[e]=this.monaco.editor.create(document.getElementById("codeEdit_"+e),{value:"",language:Fe.cb[this.selectLang[e]],theme:"vs-dark",selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!0,glyphMargin:!0,useTabStops:!1,fontSize:14,autoIndent:!0,quickSuggestionsDelay:100}))}),100)},methods:{changeLang(e){this.monaco.editor.setModelLanguage(this.editors[e].getModel(),Fe.cb[this.selectLang[e]])},acceptLangs(e){if(null==e)return Fe.SQ;var t={};for(var a in e)t[e[a]]=Fe.SQ[e[a]];return t}}};const ze=(0,be.Z)(Te,[["render",Me]]);var Ze=ze,qe={data(){return{id:this.$route.params.id,contest_id:this.$route.query.contest_id,problem:{title:"",limitation:"",statement_zh:"",statement_en:"",tutorial_zh:"",tutorial_en:"",like:0,liked:!1,data:{}},can_edit:!1}},created(){(0,pe.F)("problem","get",{problem_id:this.id,contest_id:this.contest_id},(e=>{this.problem=e.data.problem,this.problem.limitation=this.problem.limitation.split(" "),console.log(this.problem),this.can_edit=e.data.can_edit}),(e=>{alert(e.data._error)}))},mounted(){var e=Array.prototype.slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));e.forEach((e=>{new bootstrap.Tooltip(e,{customClass:"limitation-icon"})}))},components:{VMdPreview:M.Z,ClickLike:F.Z,ProblemManage:he,ProblemSubmit:Ze},computed:{maxSubmission(){var e=-1;for(var t in this.problem.data.Submission){var a=this.problem.data.Submission[t];if(e<0)e=a.Length;else if(e!=a.Length)return"Different"}return e/=1024,e<1024?Math.floor(e)+" KB":Math.floor(e/1024)+"MB"}}};const Pe=(0,be.Z)(qe,[["render",C]]);var Ae=Pe},48773:function(e,t,a){a.d(t,{Z:function(){return f}});var l=a(49199);const o=["id"],n={class:"modal-dialog"},s={class:"modal-content"},i={class:"modal-header"},r={class:"modal-title"},d=(0,l.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"},null,-1),c={class:"modal-body"},m=["placeholder"],p={class:"modal-footer"},u=(0,l.createElementVNode)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1);function b(e,t,a,b,g,h){const v=(0,l.resolveComponent)("Table");return(0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,[(0,l.createElementVNode)("div",{class:"modal fade",id:"add_"+a.name,tabindex:"-1"},[(0,l.createElementVNode)("div",n,[(0,l.createElementVNode)("div",s,[(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("h5",r,"Add "+(0,l.toDisplayString)(a.title),1),d]),(0,l.createElementVNode)("div",c,[(0,l.withDirectives)((0,l.createElementVNode)("input",{class:"form-control",placeholder:a.name+" id","onUpdate:modelValue":t[0]||(t[0]=e=>g.add_id=e)},null,8,m),[[l.vModelText,g.add_id]])]),(0,l.createElementVNode)("div",p,[u,(0,l.createElementVNode)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=(...e)=>h.add&&h.add(...e))},"Submit")])])])],8,o),g.reload?((0,l.openBlock)(),(0,l.createBlock)(v,{key:0,pagination:!1,get:h.getData,row:h.getRow},null,8,["get","row"])):(0,l.createCommentVNode)("",!0)],64)}var g=a(51826),h=a(54860),v=a(58661),k=a(95410),E=a.n(k),V={props:["url","data_name","title","name","no-modify","query"],data(){return{id:this.$route.params.id,reload:!0,add_id:"",_query:void 0==this.query?"":"?"+E().stringify(this.query)}},components:{ClickLike:g.Z,Table:h.Z},methods:{getRow(e){return null==e?[(0,l.h)("td",{style:"text-align:left;width:10%"},(0,l.h)("strong","#ID")),(0,l.h)("td",{style:"text-align:left"},(0,l.h)("strong",this.title+" Name")),this.noModify?null:(0,l.h)("td",{style:"text-align:right"},(0,l.h)("a",{href:"#","data-bs-toggle":"modal","data-bs-target":"#add_"+this.name},(0,l.h)("ion-icon",{name:"add-outline",style:"font-size: 1.2rem; vertical-align: text-bottom; color: gray; --ionicon-stroke-width: 40px;"})))]:[(0,l.h)("td",{style:"text-align:left"},e[this.data_name[1]]),(0,l.h)("td",{style:"text-align:left"},(0,l.h)("a",{href:"#/"+this.name+"/"+e[this.data_name[1]]+this._query},e[this.data_name[2]])),this.noModify?null:(0,l.h)("td",{style:"text-align:right"},(0,l.h)("a",{href:"#",onClick:this.delete(e[this.data_name[1]])},(0,l.h)("ion-icon",{name:"remove-outline",style:"font-size: 1.2rem; vertical-align: text-bottom; color: gray; --ionicon-stroke-width: 40px;"})))]},async getData(e){try{var t={};t[this.data_name[0]]=this.id;var a=await new Promise(((e,a)=>{(0,v.F)(this.url,"get",t,e,a)}));return null!=a.data.data&&a.data.data.sort(((e,t)=>e[this.data_name[1]]-t[this.data_name[1]])),a.data}catch(l){alert(l.data._error)}},delete(e){return t=>{t.preventDefault();var a={};a[this.data_name[0]]=this.id,a[this.data_name[1]]=e,(0,v.F)(this.url,"delete",a,(e=>{this.reload=!1,(0,l.nextTick)((()=>{this.reload=!0}))}),(e=>{alert(e.data._error)}))}},add(){var e={};e[this.data_name[0]]=this.id,e[this.data_name[1]]=this.add_id,(0,v.F)(this.url,"post",e,(e=>{this.reload=!1,(0,l.nextTick)((()=>{this.reload=!0}))}),(e=>{alert(e.data._error)}))}}},N=a(40089);const y=(0,N.Z)(V,[["render",b]]);var f=y}}]);
//# sourceMappingURL=5011.8e2f864b.js.map