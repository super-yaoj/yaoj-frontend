"use strict";(self["webpackChunkyaoj"]=self["webpackChunkyaoj"]||[]).push([[6252],{66252:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(49199);const l={class:"mt-4 container"},o={class:"row mb-3"},s=(0,n.createElementVNode)("div",{class:"col"},[(0,n.createElementVNode)("div",{class:"h3 mb-0"},"Problem List")],-1),a={key:0,class:"col",style:{"text-align":"right"}},i={key:0,class:"text-success small"};function c(e,t,r,c,d,m){const u=(0,n.resolveComponent)("Table");return(0,n.openBlock)(),(0,n.createElementBlock)("div",l,[(0,n.createElementVNode)("div",o,[s,e.$user.user_group<=1?((0,n.openBlock)(),(0,n.createElementBlock)("div",a,[(0,n.createElementVNode)("button",{class:"btn btn-sm btn-primary",onClick:t[0]||(t[0]=(...e)=>m.addProblem&&m.addProblem(...e))},"New Problem"),d.success>0?((0,n.openBlock)(),(0,n.createElementBlock)("div",i," Successfully added, problem id: "+(0,n.toDisplayString)(d.success)+". ",1)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)]),d.reloadProblems?((0,n.openBlock)(),(0,n.createBlock)(u,{key:0,row:m.getLine,sizes:[20,50,100],get:m.getProblems,next:m.next,pagination:!0},null,8,["row","get","next"])):(0,n.createCommentVNode)("",!0)])}var d=r(22664),m=r(51826),u=r(58661),p={data(){return{reloadProblems:!0,success:0}},components:{Table:d.Z,ClickLike:m.Z},methods:{getLine(e){return null==e?[(0,n.h)("td",{style:"width:60px"},(0,n.h)("strong","#ID")),(0,n.h)("td",{style:"text-align:left;padding-left:30px!important"},(0,n.h)("strong","Problem")),(0,n.h)("td",{style:"text-align:right;width:10%"},(0,n.h)("strong","Comments"))]:[(0,n.h)("td",{style:""},e.problem_id),(0,n.h)("td",{style:"text-align:left;padding-left:30px!important"},(0,n.h)("a",{href:"#/problem/"+e.problem_id},e.title)),(0,n.h)("td",{style:"text-align:right"},(0,n.h)(m.Z,{icon:"thumbs-up-outline",number:e.like,target:{name:"problem",id:e.problem_id},active:e.liked}))]},async getProblems(e){try{var t=await new Promise(((t,r)=>{(0,u.F)("problems","get",e,t,r)}));return t.data}catch(r){alert(r.data._error)}},next(e,t){return null==e?t<0?0:1<<30:e.problem_id+t},addProblem(){(0,u.F)("problem","post",{},(e=>{this.success=e.data.id,setTimeout((()=>{this.success=0}),1e3),this.reloadProblems=!1,(0,n.nextTick)((()=>{this.reloadProblems=!0}))}),(e=>{alert(e.data._error)}))}}},h=r(40089);const b=(0,h.Z)(p,[["render",c]]);var g=b},51826:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(49199);const l={style:{"vertical-align":"middle"}};function o(e,t,r,o,s,a){const i=(0,n.resolveComponent)("ion-icon");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:(0,n.normalizeClass)(r.class),style:(0,n.normalizeStyle)((void 0==r.target?"":"cursor: pointer;")+(s.current^r.active?"color: #F70":"")),onClick:t[0]||(t[0]=(...e)=>a.like&&a.like(...e))},[(0,n.createVNode)(i,{name:r.icon,style:{"vertical-align":"middle","font-size":"1rem","margin-right":"2px"}},null,8,["name"]),(0,n.createElementVNode)("span",l,(0,n.toDisplayString)(a.num),1)],6)}var s=r(58661),a={props:["icon","number","active","target","class"],data(){return{current:!1}},methods:{like(){void 0!=this.target&&(0,s.F)("likes","post",{target:this.target.name,id:this.target.id},(e=>{this.current=!this.current}),(e=>{alert(e.data._error)}))}},computed:{num(){return this.active?this.number+(this.current?-1:0):this.number+(this.current?1:0)}}},i=r(40089);const c=(0,i.Z)(a,[["render",o]]);var d=c}}]);
//# sourceMappingURL=6252.e6fcf1f6.js.map